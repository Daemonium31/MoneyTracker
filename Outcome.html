<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="Income.css">
    <title>Active User (hasil output dari register dan login) - Income</title>
</head>

<body>
    <div class="header">
        <div class="header-logo"><img src="image/MoneyIcon2.png" alt="Logo"></div>
        <div class="header-list">
            <ul>
                <li><a href="About.html">About us</a></li>
        </div>
        <div class="header-disable">
            <li>Outcome</li>
        </div>
        <div class="header-list">
            <li><a href="Income.html" class="active">Income</a></li>
            <li><a href="Home.html">Home</a></li>
        </div>
        <div class="header-disable">
            <li>
                <div id="activeUser">Active User</div>
            </li>
        </div>
        </ul>
    </div>

    <div class="container">
        <h1>Outcome</h1>
        <div class="form-group">
            <label for="transaction-name">Transaction name</label>
            <input type="text" class="form-control" id="transaction-name" placeholder="Enter name">
        </div>
        <div class="form-group">
            <label for="transaction-amount">Transaction nominal</label>
            <input type="number" class="form-control" id="transaction-amount" placeholder="Enter amount">
        </div>
        <div class="form-group">
            <label for="transaction-category">Transaction type</label>
            <select class="form-control" id="transaction-category" required>
                <option value="Makan">Makan</option>
                <option value="Transportasi">Transportasi</option>
                <option value="Liburan">Liburan</option>
                <option value="Belanja">Belanja</option>
                <option value="Kebutuhan">Kebutuhan Pokok</option>
                <option value="Edukasi">Edukasi</option>
                <option value="Asuransi">Asuransi</option>
                <option value="Kesehatan">Kesehatan</option>
            </select>
        </div>
        <div class="text-center">
            <button type="button" class="btn btn-danger mt-3" onclick="storeTransaction();alert('The Balance has been deducted by ' + document.getElementById('transaction-amount').value)">Submit</button>
        </div>
    </div>

    <script>
        function storeTransaction() {
            var transactionName = document.getElementById("transaction-name").value;
            var transactionAmount = parseFloat(document.getElementById("transaction-amount").value);
            var transactionType = document.getElementById("transaction-category").value;

            var transaction = {
                name: transactionName,
                amount: transactionAmount,
                type: transactionType,
                date: new Date().toLocaleString()
            };

            var transactionHistory = JSON.parse(localStorage.getItem("data")) || [];
            transactionHistory.push(transaction);
            localStorage.setItem("data", JSON.stringify(transactionHistory));
        }

        var activeUser = localStorage.getItem("active_user");
        if (activeUser) {
            document.getElementById("activeUser").textContent = "Hai, " + activeUser;
        }
    </script>
</body>

</html>